import matplotlib.pyplot as plt
import numpy as np


np.random.seed(2023)
numbers = np.random.randint(1, 100, 20)
plt.plot(numbers)
plt.show()


def find_lake_depth(numbers):
    max_depth = 0
    lake_start = -1
    lake_end = -1

    for i in range(len(numbers) - 1):
        for j in range(i + 2, len(numbers)):
            if numbers[i] > numbers[i + 1] and numbers[j] > numbers[j - 1]:
                depth = min(numbers[i], numbers[j]) - min(numbers[i + 1:j])
                if depth > max_depth:
                    max_depth = depth
                    lake_start, lake_end = i, j

    return max_depth, lake_start, lake_end


deepest_lake, start, end = find_lake_depth(numbers)
print("Глибина найглибшого озера:", deepest_lake)


plt.plot(numbers)
if start != -1 and end != -1:
    plt.plot(range(start, end + 1), numbers[start:end + 1], c='red')
plt.show()
